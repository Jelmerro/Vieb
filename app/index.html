<!--
    Vieb - Vim Inspired Electron Browser
    Copyright (C) 2019-2020 Jelmer van Arnhem

    This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with this program.  If not, see <https://www.gnu.org/licenses/>.
-->
<!DOCTYPE html>
<html>
<head>
    <link href="css/index.css" rel="stylesheet" type="text/css">
    <meta http-equiv="Content-Security-Policy" content="font-src file://*; img-src file://* data:; style-src 'unsafe-inline' file://*; script-src 'unsafe-inline' file://*; default-src 'none'">
</head>
<body>
    <div id="invisible-overlay"></div>
    <div id="navbar">
        <img src="img/icons/1024x1024.png" id="logo">
        <div>
            <div id="menu">
                <span id="mode-container">
                    <span id="mode">normal</span>
                    <span id="mode-suggestions"></span>
                </span>
                <input id="url" type="text" spellcheck="false">
                <span id="repeat-counter"></span>
                <span id="pressed-keys"></span>
                <div id="suggest-dropdown"></div>
            </div>
            <div id="tabs">
                <span class="spacer"></span>
            </div>
        </div>
    </div>
    <div id="notifications"></div>
    <div id="url-hover"></div>
    <div id="page-container">
        <div id="follow"></div>
        <div id="pointer"></div>
        <div id="pages"></div>
        <div id="pagelayout"></div>
    </div>
    <script>
        // Utility functions not related to any other topic, but used in many
        const UTIL = require("./js/util")
        // Static action implementations, input will call them
        const ACTIONS = require("./js/actions")
        // Mode specific code
        const MODES = require("./js/modes")
        const COMMAND = require("./js/command")
        const COMMANDHISTORY = require("./js/commandhistory")
        const FOLLOW = require("./js/follow")
        // Tabs and webview handler
        const TABS = require("./js/tabs")
        // Listen to all input to block them or connect them to specific actions
        const INPUT = require("./js/input")
        // Load custom settings from disk
        const SETTINGS = require("./js/settings")
        // Create and manage sessions (container, downloads, adblocking etc.)
        const SESSIONS = require("./js/sessions")
        // Download manager
        const DOWNLOADS = require("./js/downloads")
        // History manager
        const HISTORY = require("./js/history")
        // Suggestions for the navigation bar
        const SUGGEST = require("./js/suggest")
        // Pointer based navigation mode (hover, visual, drag, right-click etc.)
        const POINTER = require("./js/pointer")
        // Save and restore the window position, size and maximized state
        const WINDOWSTATE = require("./js/windowstate")
        // Load favicon handler
        const FAVICONS = require("./js/favicons")
        // Load the layout manager, for splitting multiple webviews
        const PAGELAYOUT = require("./js/pagelayout")
        // Some modules require initialisation
        INPUT.init()
        SETTINGS.init()
        SESSIONS.init()
        DOWNLOADS.init()
        HISTORY.init()
        TABS.init()
        WINDOWSTATE.init()
        FAVICONS.init()
        MODES.init()
        COMMANDHISTORY.init()
    </script>
</body>
</html>
